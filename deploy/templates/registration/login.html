{% extends "base.html" %}

{% block title %}Sign In{% endblock %}

{% block content %}

{% load widget_tweaks %}

<div class="row-fluid">
	<div class="span8">
	{% include "registration/signin_header.html" %}
	</div>
	<div class="signin span4">
		<div class="spc-page-title"><h3>Sign In</h3></div>
		<form class="form" action="{% url auth_login %}" method="post">
		{% csrf_token %}
			{% if form.non_field_errors %}
			<div class="alert alert-error">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
				{% for error in form.non_field_errors %}
				 {{error}}
				{% endfor %}
			</div>
			
			{% else %}
				{% if form.errors %}
				<div class="alert alert-error">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
					<p><b>Some errors were found</b>. Please see fields with a coloured background</p>
				</div>
				{% endif %}
			{% endif %}
			
			{% for field in form %}
				<div class="control-group {% if field.errors %}control-group error{% endif %}">
					<label class="control-label" for="{{field.id_for_label}}">{{field.label|safe}}</label>
					<div class="controls">
						{{field|add_class:"span12"|safe}}
						{% if field.errors %}
							<div class="alert alert-error">
								{% for error in field.errors %}<i>{{ error|escape }}</i>{% endfor %}
							</div>
						{% endif %}
					</div>
				</div>
			{% endfor %}
			
			{% if next %}
				<div class="control-group">
					<div class="controls">
						<input type="hidden" name="next" value="{{next}}">
					</div>
				</div>
			{% endif %}
			
			<div class="control-group">
				<div class="controls">
					<button class="btn btn-primary" type="submit" name="submit">Sign in</button>
					<a class="btn btn-success" href="{% url registration_register %}">Register</a>
					<span style="padding-top:5px;" class="help-block"><a href="{% url auth_password_reset %}">Forgot your username or password?</a></span>
				</div>
			</div>
		</form><!--/form-->
	</div><!--/signin span12-->
</div><!--/row-fluid-->
{% endblock %}